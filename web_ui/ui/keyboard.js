
var keyBoardSymbolPage1         = [["1","2","3","4","5","6","7","8","9","0","back"],["\\","#","$","%","&","*","(",")","/","_","..."],["symPage1",",",".","?","!",":",";","\"","'","<",">"]];
var keyBoardSymbolPage2         = [["[","]","{","}","+","-","×","÷","=","±","back"],["«","»","¦","´","^","~","©","®","¥","£","€"],["symPage2","www.","wap.",".com",".cn",".org",".net","bbs.","blog.","http:","3g."]];
var enCapitalLetter             = [["Q","W","E","R","T","Y","U","I","O","P","back"],["A","S","D","F","G","H","J","K","L","!","/"],["shift","Z","X","C","V","B","N","M",",",".","?"]];//大写字母集
var enMinuscules                = [["q","w","e","r","t","y","u","i","o","p","back"],["a","s","d","f","g","h","j","k","l","!","/"],["shift","z","x","c","v","b","n","m",",",".","?"]];//小写字母集

var fraCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var fraMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var porCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var porMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var espCapitalLetter           = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S","Š"],["D","Đ"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var espMinuscules              = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s","š"],["d","đ"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var deuCapitalLetter           = [[["Q"],["W"],["E","Ė","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Û","Ù","Ú"],["I","Ī","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var deuMinuscules              = [[["q"],["w"],["e","ė","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","û","ù","ú"],["i","ī","ì","î","ï","í"],["o","ō","õ","ø","ó","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集


var polCapitalLetter           = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Û","Ù","Ú"],["I"],["O","Ō","Õ","Ø","Ó","Ö","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","À","Â","Æ","Á","Ä","Ą","Ā"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L","Ł"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var polMinuscules              = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","û","ù","ú"],["i"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","à","â","æ","á","ä","ą","ā"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l","ł"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集


var sveCapitalLetter            = [[["Q"],["W"],["E","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I"],["O","Ō","Õ","Ó","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Á","Ä"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];//大写字母集
var sveMinuscules               = [[["q"],["w"],["e","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i"],["o","ō","õ","ó","ô","œ","ò"],["p"],["back"]],[["a","ã","å","á","ä"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];//小写字母集

var itaCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];//大写字母集
var itaMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];//小写字母集

var русCapitalLetter           = [[["Й"],["Ц"],["У"],["К"],["Е","Ё"],["Н"],["Г"],["Ш"],["Щ"],["З"],["back"]],[["Х"],["Ф"],["Ы"],["В"],["А"],["П"],["Р"],["О"],["Л"],["Д"],["Ж"]],[["shift"],["Э"],["Я"],["Ч"],["С"],["М"],["И"],["Т"],["Ь"],["Б"],["Ю"]]];
var pycMinuscules              = [[["Й"],["ц"],["у"],["к"],["е","ё"],["н"],["г"],["ш"],["щ"],["з"],["back"]],[["х"],["ф"],["ы"],["в"],["а"],["п"],["р"],["о"],["л"],["д"],["ж"]],[["shift"],["э"],["я"],["ч"],["с"],["м"],["и"],["т"],["ь"],["б"],["ю"]]];
var pycBoardSymbolPage1         = [["1","2","3","4","5","6","7","8","9","0","\\","back"],["@","#","$","%","&","*","(",")","/","_","..."],["symPage1",",",".","?","!",":",";","\"","'","<",">"]];
var pycBoardSymbolPage2         = [["[","]","{","}","+","-","×","÷","=","±","°","back"],["«","»","¦","´","^","~","©","®","¥","£","€"],["symPage2","www.","wap.",".com",".cn",".org",".net","bbs.","blog.","http:","3g."]];
var spansFocus                = ["images/Focus_1.png","images/Focus_1-2.png"];
var cabImgs                    = ["images/Caps_s_1.png","images/Caps_A_1.png"];
var checkImg                  =["images/option/check_1.png","images/option/check_3.png"];
var keyBoardChar              = enMinuscules;
var langList                  = ["EN","FRA","POR","ESP","DEU","POL","SVE","ITA","PYC"];
var language                  = ["English","Francaise","Portugal","Española","Deutsch","Polski","Svenska","Italian","Russian"];
var spanList;
var imgList;
var mulCharList;
var charFlag                  =0;//0表示为字母  1 表示符号
var letterCapFlag             =0;//0表示小写   1表示大写
var positionH                 =0;
var positionV                 =0;
var mulPositionV              =0;
var setPositionH              =0;
var selectImgList; 
var symbolPageFlag            =0;//0表示第一页 1表示第二页
var countryList               =[-1,-1,-1];
var countryCount              = 0;

var curCountry                =0;
var keyBoardFocus                 ="keyboard";
var keyBoardFlag              =0;
var mouseCallBack             = {Url:"",funcOk:function(){},funcBack:function(){}};


function $(id)
{
    return document.getElementById(id);
}
function checkKeyBoardEnable()
{
	var k=0;
	for(var i=0;i<9;i++)
	{
		if(top.g_setting.getKeyBoardEnable(i)==1)
		{

			countryList[k]=i;
			k++;
		}
		if(k>=3)
		{
			break;
		}
	}
	countryCount=k;
}
function tobackKeyBoard()
{
	if(keyBoardFocus == "keySetting")
	{
		hiddenKeySetting();
		return "settingBack";
	}
	else
	{
		document.body.removeChild($("keyBoardBg"));
		document.body.removeChild($("showMulChar"));
		charFlag                  =0;//0表示为字母  1 表示符号
		letterCapFlag             =0;//0表示小写   1表示大写
		positionH                 =0;
		positionV                 =0;
		mulPositionV              =0;
		symbolPageFlag            =0;//0表示第一页 1表示第二页
		keyBoardFocus             ="keyboard";  
		keyBoardFlag              =0;
		return "menuBack";
	}
}
function hiddenKeyBoard()
{
	if(keyBoardFlag==1)
	{
		if(keyBoardFocus == "keySetting")
		{
			hiddenKeySetting();
		}
		document.body.removeChild($("keyBoardBg"));
		document.body.removeChild($("showMulChar"));
		charFlag                  =0;//0表示为字母  1 表示符号
		letterCapFlag             =0;//0表示小写   1表示大写
		positionH                 =0;
		positionV                 =0;
		mulPositionV              =0;
		symbolPageFlag            =0;//0表示第一页 1表示第二页
		keyBoardFocus             ="keyboard";  
		keyBoardFlag              =0;
	}
}

function showKeyBoard()
{
	
	 curCountry =top.g_setting.currentKeyBoardIndex;
	 top.g_channel.testLog("===================================curCountry="+curCountry)
	 checkKeyBoardEnable();
	switch(curCountry)
	{
		case 0:
		{
			keyBoardChar = enMinuscules;
		}
		break;
		case 1:
		{
			keyBoardChar = fraMinuscules;
		}
		break;
		case 2:
		{
			keyBoardChar = porMinuscules;
		}
		break;
		case 3:
		{
			keyBoardChar = espMinuscules;
		}
		break;
		case 4:
		{
			keyBoardChar = deuMinuscules;
		}
		break;
		case 5:
		{
			keyBoardChar = polMinuscules;
		}
		break;
		case 6:
		{
			keyBoardChar = sveMinuscules;
		}
		break;
		case 7:
		{
			keyBoardChar = itaMinuscules;
		}
		break;
		case 8:
		{
			keyBoardChar = pycMinuscules;
		}
		break;
	}
	/*
	if(curCountry==8)
	{
		keyBoardFlag=1;
		var bgDiv  = document.createElement("div");
		bgDiv.style.height="500px";
		bgDiv.style.width="1920px";
		bgDiv.style.position="absolute";
		bgDiv.style.top="620px";
		bgDiv.style.background="#000000";
		bgDiv.style.borderTop ="4px solid #1b1b1b";
		bgDiv.style.opacity="0.92";
		bgDiv.id="keyBoardBg";
		bgDiv.onmousedown = function(evt){
			if(evt.button == 2){
				//right key
				 mouseCallBack.funcBack();
			}
		}
		document.body.appendChild(bgDiv);
		var bodyDiv=document.createElement("div");
		bodyDiv.style.height="460px";
		bodyDiv.style.left="135px";
		bodyDiv.style.width="1630px";
		bodyDiv.style.position="absolute";
		bodyDiv.style.top="20px";
		bodyDiv.id="keyBoard";
		$("keyBoardBg").appendChild(bodyDiv);
		for(var j=0;j<11;j++)
		{
			var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="117px";
			span.style.height="80px";
			span.style.textAlign="center";
			span.style.lineHeight="70px";
			span.style.color="#aaaaaa";
			span.style.margin="10px 10px";
			span.style.left=j*136+"px";
			span.style.fontSize="36px";
			span.style.backgroundImage="url('images/key_Button_1.png')"
			span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					  positionH=0;
					  positionV=j;
					  mouseCallBack.funcOk()
				}
			}
			$("keyBoard").appendChild(span);
		}
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.left=11*136+"px";
		span.style.fontSize="36px";
		span.style.backgroundImage="url('images/key_Button_1.png')"
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					  positionH=0;
					  positionV=11;
					  mouseCallBack.funcOk()
				}
			}
		$("keyBoard").appendChild(span);
		for(var i=1;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				var span=document.createElement("span");
				span.style.position="absolute";
				span.style.width="130px";
				span.style.height="80px";
				span.style.textAlign="center";
				span.style.lineHeight="70px";
				span.style.color="#aaaaaa";
				span.style.margin="10px 10px";
				span.style.left=j*150+"px";
				span.style.top=i*100+"px";
				span.style.fontSize="36px";
				span.style.backgroundImage="url('images/key_Button_1.png')"
				span.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						  positionH=i;
						  positionV=j;
						  mouseCallBack.funcOk()
					}
				}
				$("keyBoard").appendChild(span);
			}
		}
		var spanFocus=document.createElement("img");
		spanFocus.style.position="absolute";
		spanFocus.style.width="160px";
		spanFocus.style.height="110px";
		spanFocus.style.top="96px";
		spanFocus.style.left="-4px";
		spanFocus.src="images/Focus_1.png"
		spanFocus.id="spanFocus";
		spanFocus.style.zIndex="100";
		spanFocus.style.display="none";
		$("keyBoard").appendChild(spanFocus);
		var spanFocus1=document.createElement("img");
		spanFocus1.style.position="absolute";
		spanFocus1.style.width="147px";
		spanFocus1.style.height="110px";
		spanFocus1.style.top="-4px";
		spanFocus1.style.left="-4px";
		spanFocus1.src="images/Focus_1.png"
		spanFocus1.id="spanFocus1";
		spanFocus1.style.zIndex="100";
		$("keyBoard").appendChild(spanFocus1);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="205px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.id="langBg";
		span.style.fontSize="36px";
		span.style.color="#aaaaaa";
		span.style.backgroundImage="url('images/key_Button_2.png')"
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="100px";
		span.style.height="80px";
		span.style.textAlign="left";
		span.style.lineHeight="70px";
		span.style.margin="5px";
		span.style.left="100px";
		span.id="langChange";
		span.innerHTML="EN";
		$("langBg").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="205px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="225px";
		span.style.fontSize="36px";
		span.style.color="#aaaaaa";
		span.innerHTML="123#";
		span.style.fontFamily="Segoe Condensed";
		span.id="charChange";
		span.style.backgroundImage="url('images/key_Button_2.png')"
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="730px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="450px";
		span.style.color="#aaaaaa";
		span.style.fontSize="36px";
		span.id="space";
		span.style.backgroundImage="url('images/key_Button_4.png')"
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="1200px";
		span.style.fontSize="36px";
		span.style.fontFamily="Segoe Condensed";
		span.id="netFlag";
		span.innerHTML="@"
		span.style.backgroundImage="url('images/key_Button_1.png')"
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="280px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="1350px";
		span.style.fontSize="36px";
		span.id="setting";
		span.style.backgroundImage="url('images/key_Button_3.png')"
		$("keyBoard").appendChild(span);
		
		spanList=$("keyBoard").getElementsByTagName("span");
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}
		spanList[10].innerHTML="";
		var backImg=document.createElement("img");
		backImg.style.position="absolute";
		backImg.style.top="35px";
		backImg.style.left="1550px";
		backImg.src="images/Backspace_1.png"
		backImg.style.zIndex="100";
		$("keyBoard").appendChild(backImg);
		
		spanList[22].innerHTML="";
		var cabImg=document.createElement("img");
		cabImg.style.position="absolute";
		cabImg.style.top="230px";
		cabImg.style.left="60px";
		cabImg.id="cabImg";
		cabImg.src="images/Caps_s_1.png";
		$("keyBoard").appendChild(cabImg);
		
		var langImg=document.createElement("img");
		langImg.style.position="absolute";
		langImg.style.top="20px";
		langImg.style.left="59px";
		langImg.src="images/language_1.png";
		$("langBg").appendChild(langImg);
		
		var imgFocus0=document.createElement("img");
		imgFocus0.style.position="absolute";
		imgFocus0.style.top="296px";
		imgFocus0.style.left="-4px";
		imgFocus0.src="images/Focus3_1.png"
		imgFocus0.id="imgFocus0";
		imgFocus0.style.display="none";
		$("keyBoard").appendChild(imgFocus0);
		
		var imgFocus1=document.createElement("img");
		imgFocus1.style.position="absolute";
		imgFocus1.style.top="296px";
		imgFocus1.style.left="221px";
		imgFocus1.src="images/Focus3_1.png"
		imgFocus1.id="imgFocus1";
		imgFocus1.style.display="none";
		$("keyBoard").appendChild(imgFocus1);
		
		var imgFocus2=document.createElement("img");
		imgFocus2.style.position="absolute";
		imgFocus2.style.top="296px";
		imgFocus2.style.left="446px";
		imgFocus2.src="images/Focus5_1.png"
		imgFocus2.id="imgFocus2";
		imgFocus2.style.display="none";
		$("keyBoard").appendChild(imgFocus2);
		
		var imgFocus3=document.createElement("img");
		imgFocus3.style.position="absolute";
		imgFocus3.style.top="296px";
		imgFocus3.style.left="1196px";
		imgFocus3.src="images/Focus_1.png"
		imgFocus3.id="imgFocus3";
		imgFocus3.style.display="none";
		$("keyBoard").appendChild(imgFocus3);
		
		var img=document.createElement("img");
		img.style.position="absolute";
		img.style.top="20px";
		img.src="images/setting_1.png";
		img.style.left="120px";
		$("setting").appendChild(img);
		
		var imgFocus4=document.createElement("img");
		imgFocus4.style.position="absolute";
		imgFocus4.style.top="296px";
		imgFocus4.style.left="1346px";
		imgFocus4.src="images/Focus4_1.png"
		imgFocus4.id="imgFocus4";
		imgFocus4.style.display="none";
		$("keyBoard").appendChild(imgFocus4);
		
		
		var showMulCharDiv = document.createElement("div");
		showMulCharDiv.style.height="65px";
		showMulCharDiv.style.width="1920px";
		showMulCharDiv.style.position="absolute";
		showMulCharDiv.style.top="555px";
		showMulCharDiv.style.background="#000000";
		showMulCharDiv.id="showMulChar";
		showMulCharDiv.style.display="none";
		document.body.appendChild(showMulCharDiv);
		var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="138px";
			span.style.height="45px";
			span.style.top = "10px"
			span.style.textAlign="center";
			span.style.lineHeight="100px";
			span.style.color="#000000";
			span.style.borderRight="1px solid #666"
			span.style.fontSize="50px";
			$("showMulChar").appendChild(span);
		for(var i=0;i<11;i++)
		{
			var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="148px";
			span.style.height="45px";
			span.style.top = "10px"
			span.style.textAlign="center";
			span.style.lineHeight="45px";
			span.style.color="#ffffff";
			span.innerHTML="a";
			span.style.borderRight="1px solid #666"
			span.style.left=138+i*146+"px";
			span.style.fontSize="36px";
			$("showMulChar").appendChild(span);
		}
		var showMulFocus=document.createElement("img");
		showMulFocus.style.position="absolute";
		showMulFocus.style.left="138px";
		showMulFocus.style.height="65px";
		showMulFocus.style.width="146px";
		showMulFocus.src="images/Focus_2.png"
		showMulFocus.style.display="block";
		showMulFocus.id="showMulFocus";
		$("showMulChar").appendChild(showMulFocus);
		mulCharList=$("showMulChar").getElementsByTagName("span");
	}
	else*/
	{
	    document.body.onmousedown=function(evt){evt.preventDefault();};
		keyBoardFlag=1;
		var bgDiv  = document.createElement("div");
		bgDiv.style.height="500px";
		bgDiv.style.width="1920px";
		bgDiv.style.position="absolute";
		bgDiv.style.top="620px";
		bgDiv.style.background="#000000";
		bgDiv.style.borderTop ="4px solid #1b1b1b";
		bgDiv.style.opacity="0.92";
		bgDiv.style.zIndex="500";
		bgDiv.id="keyBoardBg"; 
		try
		{
		bgDiv.onmousedown = function(evt){evt.preventDefault();
			top.timeoutFuc.osdTimeoutEndFuc();
			if(evt.button == 2)
			{
				mouseCallBack.funcBack();
			}
			top.timeoutFuc.osdTimeoutStartFuc();
			//right key
		}
		}catch(er)
		{
			g_channel.testLog("key:"+er);
		}
		document.body.appendChild(bgDiv);
		var bodyDiv=document.createElement("div");
		bodyDiv.style.height="460px";
		bodyDiv.style.left="135px";
		bodyDiv.style.width="1630px";
		bodyDiv.style.position="absolute";
		bodyDiv.style.top="20px";
		bodyDiv.id="keyBoard";
		$("keyBoardBg").appendChild(bodyDiv);
		try
		{
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				var span=document.createElement("span");
				span.style.position="absolute";
				span.style.width="130px";
				span.style.height="80px";
				span.style.textAlign="center";
				span.style.lineHeight="70px";
				span.style.color="#aaaaaa";
				span.style.margin="10px 10px";
				span.style.left=j*150+"px";
				span.style.top=i*100+"px";
				span.style.fontSize="36px";
				span.setAttribute("newAttr",i);
				span.setAttribute("newAttr1",j);
				span.style.backgroundImage="url('images/key_Button_1.png')";
				span.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keyboard")
						{
						  positionH=parseInt(this.getAttribute("newAttr"));
						  positionV=parseInt(this.getAttribute("newAttr1"));
						  $("spanFocus").style.display="block";
						  $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
						  $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
						  $("imgFocus0").style.display="none";
						  $("imgFocus1").style.display="none";
						  $("imgFocus2").style.display="none";
						  $("imgFocus3").style.display="none";
						  $("imgFocus4").style.display="none";
						   $("imgFocus5").style.display="none";
						  mouseCallBack.funcOk()
						}
					}
				}
				$("keyBoard").appendChild(span);
			}
		}
		}catch(er)
		{
			g_channel.testLog("key:"+er);
		}
		var spanFocus=document.createElement("img");
		spanFocus.style.position="absolute";
		spanFocus.style.width="160px";
		spanFocus.style.height="110px";
		spanFocus.style.top="-4px";
		spanFocus.style.left="-4px";
		spanFocus.src="images/Focus_1.png"
		spanFocus.id="spanFocus";
		spanFocus.style.zIndex="100";
		spanFocus.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk();
				}
			}
		}
		$("keyBoard").appendChild(spanFocus);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="205px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.id="langBg";
		span.style.fontSize="36px";
		span.style.color="#aaaaaa";
		span.style.backgroundImage="url('images/key_Button_2.png')"
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
					  positionH=3;
					  positionV=0;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="block";
					  $("imgFocus1").style.display="none";
					  $("imgFocus2").style.display="none";
					  $("imgFocus3").style.display="none";
					  $("imgFocus4").style.display="none";
					   $("imgFocus5").style.display="none";
					  mouseCallBack.funcOk()
					}
				}
			}
		$("keyBoard").appendChild(span);
		var div=document.createElement("div");
		div.style.position="absolute";
		div.style.width="100px";
		div.style.height="80px";
		div.style.textAlign="left";
		div.style.lineHeight="70px";
		div.style.margin="5px";
		div.style.left="100px";
		div.id="langChange";
		div.innerHTML="EN";
		$("langBg").appendChild(div);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="205px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="225px";
		span.style.fontSize="36px";
		span.style.color="#aaaaaa";
		span.innerHTML="123#";
		span.style.fontFamily="Segoe Condensed";
		span.id="charChange";
		span.style.backgroundImage="url('images/key_Button_2.png')"
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard"){
					  positionH=3;
					  positionV=1;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="none";
					  $("imgFocus1").style.display="block";
					  $("imgFocus2").style.display="none";
					  $("imgFocus3").style.display="none";
					  $("imgFocus4").style.display="none";
					   $("imgFocus5").style.display="none";
					  mouseCallBack.funcOk();
					}
				}
			}
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="730px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="450px";
		span.style.color="#aaaaaa";
		span.style.fontSize="36px";
		span.id="space";
		span.style.backgroundImage="url('images/key_Button_4.png')"
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
					  positionH=3;
					  positionV=2;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="none";
					  $("imgFocus1").style.display="none";
					  $("imgFocus2").style.display="block";
					  $("imgFocus3").style.display="none";
					  $("imgFocus4").style.display="none";
					   $("imgFocus5").style.display="none";
					  mouseCallBack.funcOk();
					}
				}
			}
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="1200px";
		span.style.fontSize="36px";
		span.style.fontFamily="Segoe Condensed";
		span.id="netFlag";
		span.innerHTML="@"
		span.style.backgroundImage="url('images/key_Button_1.png')"
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
					  positionH=3;
					  positionV=3;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="none";
					  $("imgFocus1").style.display="none";
					  $("imgFocus2").style.display="none";
					  $("imgFocus3").style.display="block";
					  $("imgFocus4").style.display="none";
					   $("imgFocus5").style.display="none";
					  mouseCallBack.funcOk()
					}
				}
			}
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="1350px";
		span.style.fontSize="36px";
		span.id="setting";
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
					  positionH=3;
					  positionV=4;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="none";
					  $("imgFocus1").style.display="none";
					  $("imgFocus2").style.display="none";
					  $("imgFocus3").style.display="none";
					  $("imgFocus4").style.display="block";
					  $("imgFocus5").style.display="none";
					  mouseCallBack.funcOk();
					}
				}
			}
		span.style.backgroundImage="url('images/key_Button_1.png')"
		$("keyBoard").appendChild(span);
		
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top="300px";
		span.style.left="1500px";
		span.style.fontSize="36px";
		span.id="Done";
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
					  positionH=3;
					  positionV=5;
					  $("spanFocus").style.display="none";
					  $("imgFocus0").style.display="none";
					  $("imgFocus1").style.display="none";
					  $("imgFocus2").style.display="none";
					  $("imgFocus3").style.display="none";
					  $("imgFocus4").style.display="none";
					   $("imgFocus5").style.display="block";
					  mouseCallBack.funcOk();
					}
				}
			}
		span.style.backgroundImage="url('images/key_Button_1.png')"
		$("keyBoard").appendChild(span);
		
		spanList=$("keyBoard").getElementsByTagName("span");
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}
		spanList[0].style.backgroundImage="none";
		spanList[10].innerHTML="";
		var backImg=document.createElement("img");
		backImg.style.position="absolute";
		backImg.style.top="35px";
		backImg.style.left="1550px";
		backImg.src="images/Backspace_1.png"
		backImg.style.zIndex="100";
		$("keyBoard").appendChild(backImg);
		
		spanList[22].innerHTML="";
		var cabImg=document.createElement("img");
		cabImg.style.position="absolute";
		cabImg.style.top="230px";
		cabImg.style.left="60px";
		cabImg.id="cabImg";
		cabImg.src="images/Caps_s_1.png";
		$("keyBoard").appendChild(cabImg);
		/*************************/

		
		var langImg=document.createElement("img");
		langImg.style.position="absolute";
		langImg.style.top="20px";
		langImg.style.left="59px";
		langImg.src="images/language_1.png";
		$("langBg").appendChild(langImg);
		
		var imgFocus0=document.createElement("img");
		imgFocus0.style.position="absolute";
		imgFocus0.style.top="296px";
		imgFocus0.style.left="-4px";
		imgFocus0.src="images/Focus3_1.png"
		imgFocus0.id="imgFocus0";
		imgFocus0.style.display="none";
		imgFocus0.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus0);
		
		var imgFocus1=document.createElement("img");
		imgFocus1.style.position="absolute";
		imgFocus1.style.top="296px";
		imgFocus1.style.left="221px";
		imgFocus1.src="images/Focus3_1.png"
		imgFocus1.id="imgFocus1";
		imgFocus1.style.display="none";
		imgFocus1.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus1);
		
		var imgFocus2=document.createElement("img");
		imgFocus2.style.position="absolute";
		imgFocus2.style.top="296px";
		imgFocus2.style.left="446px";
		imgFocus2.src="images/Focus5_1.png"
		imgFocus2.id="imgFocus2";
		imgFocus2.style.display="none";
		imgFocus2.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus2);
		
		var imgFocus3=document.createElement("img");
		imgFocus3.style.position="absolute";
		imgFocus3.style.top="296px";
		imgFocus3.style.left="1196px";
		imgFocus3.src="images/Focus_1.png"
		imgFocus3.id="imgFocus3";
		imgFocus3.style.display="none";
		imgFocus3.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus3);
		
		var img=document.createElement("img");
		img.style.position="absolute";
		img.style.top="20px";
		img.src="images/setting_1.png";
		img.style.left="45px";
		$("setting").appendChild(img);
		
		var imgFocus4=document.createElement("img");
		imgFocus4.style.position="absolute";
		imgFocus4.style.top="296px";
		imgFocus4.style.left="1346px";
		imgFocus4.src="images/Focus_1.png"
		imgFocus4.id="imgFocus4";
		imgFocus4.style.display="none";
		imgFocus4.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus4);
		var img=document.createElement("img");
		img.style.position="absolute";
		img.style.top="30px";
		img.src="images/Done_1.png";
		img.style.left="45px";
		$("Done").appendChild(img);
		
		var imgFocus5=document.createElement("img");
		imgFocus5.style.position="absolute";
		imgFocus5.style.top="296px";
		imgFocus5.style.left="1496px";
		imgFocus5.src="images/Focus_1.png"
		imgFocus5.id="imgFocus5";
		imgFocus5.style.display="none";
		imgFocus5.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus5);
		
		var showMulCharDiv = document.createElement("div");
		showMulCharDiv.style.height="65px";
		showMulCharDiv.style.width="1920px";
		showMulCharDiv.style.position="absolute";
		showMulCharDiv.style.top="555px";
		showMulCharDiv.style.background="#000000";
		showMulCharDiv.id="showMulChar";
		showMulCharDiv.style.display="none";
		showMulCharDiv.style.zIndex="500";
		showMulCharDiv.onmousedown=function(evt){
			if(evt.button == 2){
				if(keyBoardFocus == "mulChar")
				{
					$("showMulFocus").style.left="0px";
					$("showMulChar").style.display="none";
					mulPositionV=0;
					$("spanFocus").src=spansFocus[0];
					keyBoardFocus = "keyboard";
				}
			}
		}
		document.body.appendChild(showMulCharDiv);
		

		var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="138px";
			span.style.height="45px";
			span.style.top = "10px"
			span.style.textAlign="center";
			span.style.lineHeight="100px";
			span.style.color="#000000";
			span.style.borderRight="1px solid #666"
			span.style.fontSize="50px";
			$("showMulChar").appendChild(span);
		for(var i=0;i<11;i++)
		{
			var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="148px";
			span.style.height="45px";
			span.style.top = "10px"
			span.style.textAlign="center";
			span.style.lineHeight="45px";
			span.style.color="#ffffff";
			span.innerHTML="a";
			span.style.borderRight="1px solid #666"
			span.style.left=138+i*146+"px";
			span.style.fontSize="36px";
			span.setAttribute("newAttr",i);
			span.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "mulChar"&&parseInt(this.getAttribute("newAttr"))<=keyBoardChar[positionH][positionV].length-1)
						{
							  $("showMulFocus").style.display="block";
							  mulPositionV=parseInt(this.getAttribute("newAttr"));
							  $("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
							  mouseCallBack.funcOk()
						}
					}
				}
			$("showMulChar").appendChild(span);
		}
		var showMulFocus=document.createElement("img");
		showMulFocus.style.position="absolute";
		showMulFocus.style.left="138px";
		showMulFocus.style.height="65px";
		showMulFocus.style.width="146px";
		showMulFocus.src="images/Focus_2.png"
		showMulFocus.style.display="block";
		showMulFocus.id="showMulFocus";
		showMulFocus.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "mulChar")
						{
							  mouseCallBack.funcOk()
						}
					}
				}
		$("showMulChar").appendChild(showMulFocus);
		mulCharList=$("showMulChar").getElementsByTagName("span");
	}
	$("langChange").innerHTML=langList[curCountry];
}

function hiddenKeySetting()
{
	$("imgFocus4").src="images/Focus_1.png";
	document.body.removeChild($("bgLeft"));
	document.body.removeChild($("bgRight"));
	setPositionH=0;
	keyBoardFocus = "keyboard";
}
function showLangSetting()
{
	$("imgFocus4").src="images/Focus_1-2.png";
	var setDivBgLeft = document.createElement("div");
	setDivBgLeft.style.position="absolute";
	setDivBgLeft.style.border="4px solid #1b1b1b"
	setDivBgLeft.style.height="1080px";
	setDivBgLeft.style.width="400px";
	setDivBgLeft.style.background="#000000";
	setDivBgLeft.style.opacity="0.92";
	setDivBgLeft.id="bgLeft";
	setDivBgLeft.style.zIndex="1000"
	setDivBgLeft.onmousedown = function(evt){
		            top.timeoutFuc.osdTimeoutEndFuc();
					if(evt.button == 2){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							  mouseCallBack.funcBack()
						}
					}
					top.timeoutFuc.osdTimeoutStartFuc();
				}
	document.body.appendChild(setDivBgLeft);
	var remindSpan   = document.createElement("div");
	remindSpan.style.position="absolute";
	remindSpan.style.width ="364px";
	remindSpan.style.top = "98px";
	remindSpan.style.left = "40px";
	remindSpan.style.height="100px"
	remindSpan.style.color="#FFFFFF";
	remindSpan.style.fontSize="24px"
	remindSpan.style.lineHeight="100px";
	remindSpan.innerHTML="Keyboard and input method";
	$("bgLeft").appendChild(remindSpan);
	var remindImg  = document.createElement("img");
	remindImg.style.position="absolute";
	remindImg.style.width ="364px";
	remindImg.style.top = "98px";
	remindImg.style.left = "18px";
	remindImg.style.height="100px"
	remindImg.src="images/Icon-Sourse_Focus.png";
	$("bgLeft").appendChild(remindImg);
	var setDivBgRight = document.createElement("div");
	setDivBgRight.style.border="4px solid #1b1b1b"
	setDivBgRight.style.borderLeft="0px solid #1b1b1b"
	setDivBgRight.style.position="absolute";
	setDivBgRight.style.height="1080px";
	setDivBgRight.style.width="500px";
	setDivBgRight.style.left="408px";
	setDivBgRight.style.background="#000000";
	setDivBgRight.style.opacity="0.92";
	setDivBgRight.id="bgRight";
	setDivBgRight.style.zIndex="1000";
	setDivBgRight.onmousedown = function(evt){
		            top.timeoutFuc.osdTimeoutEndFuc();   
					if(evt.button == 2){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							  mouseCallBack.funcBack()
						}
					}
					top.timeoutFuc.osdTimeoutStartFuc();
				}
		document.body.appendChild(setDivBgRight);


	for(var i=0;i<9;i++)
	{
		var selectImg = document.createElement("img");
		selectImg.style.position="absolute";
		selectImg.style.top=130+i*70+"px";
		selectImg.style.left=73+"px";
		selectImg.src=checkImg[0];
		selectImg.setAttribute("newAttr",i);
			selectImg.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							 setPositionH = parseInt(this.getAttribute("newAttr"));
							 $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
							  mouseCallBack.funcOk()
						}
					}
				}
		$("bgRight").appendChild(selectImg);
	}
	selectImgList=$("bgRight").getElementsByTagName("img");
	for(var i=0;i<countryCount;i++)
	{
		selectImgList[countryList[i]].src=checkImg[1];
	}
	for(var i=0;i<9;i++)
	{
		var selectSpan = document.createElement("span");
		selectSpan.style.position="absolute";
		selectSpan.style.top=130+i*70+"px";
		selectSpan.style.left=200+"px";
		selectSpan.style.width="100px";
		selectSpan.style.height="80px";
		selectSpan.style.color="#ffffff";
		selectSpan.style.fontSize="24px";
		selectSpan.innerHTML=language[i];
		selectSpan.setAttribute("newAttr",i);
		selectSpan.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							 setPositionH = parseInt(this.getAttribute("newAttr"));
							 $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
							  mouseCallBack.funcOk()
						}
					}
				}
		$("bgRight").appendChild(selectSpan);
	}
    		var selectImgFocus = document.createElement("img");
		selectImgFocus.style.position="absolute";
		selectImgFocus.style.top=100+"px";
		selectImgFocus.style.left=20+"px";
		selectImgFocus.style.width="400px";
	    selectImgFocus.style.height="86px";
		selectImgFocus.id="selectImgFocus";
		selectImgFocus.src="images/Icon-Sourse_Focus.png";
		selectImgFocus.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							  mouseCallBack.funcOk()
						}
					}
				}
		$("bgRight").appendChild(selectImgFocus);
	 keyBoardFocus = "keySetting";
}
var MUL_START  = 138;
var MUL_STEP   = 146;
var KEY_BOARD_START_PYC = -4;
var KEY_BOARD_STEP_PYC = 136;
var KEY_BOARD_START_OTHER =-5;
var KEY_BOARD_STEP_OTHER =150;
var KEY_BOARD_TOP_START_PYC = -4;
var KEY_BOARD_TOP_STEP_PYC = 136;
var KEY_BOARD_TOP_START_OTHER =-4;
var KEY_BOARD_TOP_STEP_OTHER =100;
var KEY_SETTING_TOP_START    = 100;
var KEY_SETTING_TOP_STEP     = 70;
var ButtonImg = ["url('images/key_Button_1.png')","url('images/key_Button_2.png')","url('images/key_Button_3.png')","url('images/key_Button_4.png')"]
function showButtonImg()
{
	if(positionH<3)
	{
		return ButtonImg[0];
	}
	else
	{
		switch(positionV)
		{
			case 0:
			case 1:
			return ButtonImg[1];
			case 2:
			return ButtonImg[3];
			case 3:
			case 4:
			case 5:
			return ButtonImg[0];
		}
	}
}
function moveLeft()
{
	if(keyBoardFocus == "mulChar")
	{
		mulPositionV--;
		if(mulPositionV<0)
		{
			mulPositionV=keyBoardChar[positionH][positionV].length-1;
		}
		$("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
	}
	else if(keyBoardFocus == "keyboard")
	{
		if(positionH<3)
		{
			spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();;
			positionV--;
			if(positionV<0)
			{
				positionV=10;	
			}
			spanList[positionH*11+positionV].style.backgroundImage="none"
			$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
		}
		else
		{
			spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();
			$("imgFocus"+positionV).style.display="none";
			positionV--;
			if(positionV<0)
			{
				positionV=5;
			}
			spanList[positionH*11+positionV].style.background="none"
			$("imgFocus"+positionV).style.display="block";
		}
	}
	else if(keyBoardFocus == "keySetting")
	{
		hiddenKeySetting();
	}
}

function moveRight()
{
	if(keyBoardFocus == "mulChar")
	{
		mulPositionV++;
		if(mulPositionV>keyBoardChar[positionH][positionV].length-1)
		{
			mulPositionV=0;
		}
		$("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
	}
	else if(keyBoardFocus == "keyboard")
	{
		if(positionH<3)
		{
			try
			{
			spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();;
			positionV++;
			if(positionV>10)
			{
				positionV=0;	
			}
			spanList[positionH*11+positionV].style.backgroundImage="none"
			$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
			}catch(er)
			{
				g_channel.testLog("er:"+er);
			}
		}
		else
		{
			$("imgFocus"+positionV).style.display="none";
			spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();
			positionV++;
			if(positionV>5)
			{
				positionV=0;
			}
			spanList[positionH*11+positionV].style.backgroundImage="none"
			$("imgFocus"+positionV).style.display="block";
		}
	}
	else if(keyBoardFocus == "keySetting")
	{
		toOkGetChar();
	}
}
function moveUp()
{
	if(keyBoardFocus == "keyboard")
	{
		spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();
		switch(positionH)
		{
			case 0:
			{
				/*
				if(curCountry==8)
				{
					if(positionV==0 || positionV==1)
					{
						$("spanFocus1").style.display="none";
						$("imgFocus0").style.display="block"
						positionH=3;
						positionV=0;
					}
					else if(positionV==2)
					{
						$("spanFocus1").style.display="none";
						$("imgFocus1").style.display="block"
						positionH=3;
						positionV=1;
					}
					else if(positionV>2&&positionV<8)
					{
						$("spanFocus1").style.display="none";
						$("imgFocus2").style.display="block"
						positionH=3;
						positionV=2;
					}
					else if(positionV==8)
					{
						$("spanFocus1").style.display="none";
						$("imgFocus3").style.display="block"
						positionH=3;
						positionV=3;
					}
					else
					{
						$("spanFocus1").style.display="none";
						$("imgFocus4").style.display="block"
						positionH=3;
						positionV=4;
					}
				}
				else*/
				{
					if(positionV==0 || positionV==1)
					{
						$("spanFocus").style.display="none";
						$("imgFocus0").style.display="block"
						positionH=3;
						positionV=0;
					}
					else if(positionV==2)
					{
						$("spanFocus").style.display="none";
						$("imgFocus1").style.display="block"
						positionH=3;
						positionV=1;
					}
					else if(positionV>2&&positionV<8)
					{
						$("spanFocus").style.display="none";
						$("imgFocus2").style.display="block"
						positionH=3;
						positionV=2;
					}
					else if(positionV==8)
					{
						$("spanFocus").style.display="none";
						$("imgFocus3").style.display="block"
						positionH=3;
						positionV=3;
					}
					else if(positionV==9)
					{
						$("spanFocus").style.display="none";
						$("imgFocus4").style.display="block"
						positionH=3;
						positionV=4;
					}
					else if(positionV==10)
					{
						$("spanFocus").style.display="none";
						$("imgFocus5").style.display="block"
						positionH=3;
						positionV=5;
					}
				}
			}
			break;
			case 1:
			{
				/*
				if(curCountry==8)
				{
					positionH--;
					$("spanFocus").style.display="none";
					$("spanFocus1").style.left=KEY_BOARD_START_PYC+positionV*KEY_BOARD_STEP_PYC+"px"
					$("spanFocus1").style.top=KEY_BOARD_TOP_START_PYC+positionH*KEY_BOARD_TOP_STEP_PYC+"px";
					$("spanFocus1").style.display="block";
				}
				else*/
				{
					positionH--;
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				}
			}
			break;
			case 2:
			{
				positionH--;
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
			}
			break;
			case 3:
			{
				if(positionV==0)
				{
					$("spanFocus").style.display="block";
					$("imgFocus0").style.display="none"
					positionH=2;
					positionV=0;
				}
				else if(positionV==1)
				{
					$("spanFocus").style.display="block";
					$("imgFocus1").style.display="none"
					positionH=2;
					positionV=2;
				}
				else if(positionV==2)
				{
					$("spanFocus").style.display="block";
					$("imgFocus2").style.display="none"
					positionH=2;
					positionV=3;
				}
				else if(positionV==3)
				{
					$("spanFocus").style.display="block";
					$("imgFocus3").style.display="none"
					positionH=2;
					positionV=8;
				}
				else if(positionV==4)
				{
					$("spanFocus").style.display="block";
					$("imgFocus4").style.display="none"
					positionH=2;
					positionV=9;
				}
				else if(positionV==5)
				{
					$("spanFocus").style.display="block";
					$("imgFocus5").style.display="none"
					positionH=2;
					positionV=10;
				}
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
			}
			break;
		}
		spanList[positionH*11+positionV].style.backgroundImage="none";
	}
    else if(keyBoardFocus == "keySetting")
	{
		setPositionH--;
		if(setPositionH<0)
		{
			setPositionH=8;
		}
		$("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
	}
}
function moveDown()
{
	if(keyBoardFocus == "mulChar")
	{
		$("showMulFocus").style.left="0px";
		$("showMulChar").style.display="none";
		mulPositionV=0;
		$("spanFocus").src=spansFocus[0];
		keyBoardFocus = "keyboard";
	}
	else if(keyBoardFocus == "keyboard")
	{
		spanList[positionH*11+positionV].style.backgroundImage=showButtonImg();
		switch(positionH)
		{
			case 0:
			{
				/*
				if(curCountry==8)
				{
					positionH++;
					$("spanFocus").style.display="block";
					if(positionV==11)
					{
						positionV = 10;
					}
					$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px"
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
					$("spanFocus1").style.display="none";
				}
				else*/
				{
					positionH++;
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				}
			}
			break;
			case 1:
			{
				positionH++;
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
			}
			break;
			case 2:
			{
				if(positionV==0 || positionV==1)
				{
					$("spanFocus").style.display="none";
					$("imgFocus0").style.display="block"
					positionH=3;
					positionV=0;
				}
				else if(positionV==2)
				{
					$("spanFocus").style.display="none";
					$("imgFocus1").style.display="block"
					positionH=3;
					positionV=1;
				}
				else if(positionV>2&&positionV<8)
				{
					$("spanFocus").style.display="none";
					$("imgFocus2").style.display="block"
					positionH=3;
					positionV=2;
				}
				else if(positionV==8)
				{
					$("spanFocus").style.display="none";
					$("imgFocus3").style.display="block"
					positionH=3;
					positionV=3;
				}
				else if(positionV==9)
				{
					$("spanFocus").style.display="none";
					$("imgFocus4").style.display="block"
					positionH=3;
					positionV=4;
				}
				else if(positionV==10)
				{
					$("spanFocus").style.display="none";
					$("imgFocus5").style.display="block"
					positionH=3;
					positionV=5;
				}
			}
			break;
			case 3:
			{
				/*
				if(curCountry==8)
				{
					if(positionV==0)
					{
						$("spanFocus1").style.display="block";
						$("imgFocus0").style.display="none"
						positionH=0;
						positionV=0;
					}
					else if(positionV==1)
					{
						$("spanFocus1").style.display="block";
						$("imgFocus1").style.display="none"
						positionH=0;
						positionV=2;
					}
					else if(positionV==2)
					{
						$("spanFocus1").style.display="block";
						$("imgFocus2").style.display="none"
						positionH=0;
						positionV=3;
					}
					else if(positionV==3)
					{
						$("spanFocus1").style.display="block";
						$("imgFocus3").style.display="none"
						positionH=0;
						positionV=8;
					}
					else
					{
						$("spanFocus1").style.display="block";
						$("imgFocus4").style.display="none"
						positionH=0;
						positionV=9;
					}
					$("spanFocus1").style.top=KEY_BOARD_TOP_START_PYC+positionH*KEY_BOARD_TOP_STEP_PYC+"px";
				    $("spanFocus1").style.left=KEY_BOARD_START_PYC+positionV*KEY_BOARD_STEP_PYC+"px";
				}
				else*/
				{
					if(positionV==0)
					{
						$("spanFocus").style.display="block";
						$("imgFocus0").style.display="none"
						positionH=0;
						positionV=0;
					}
					else if(positionV==1)
					{
						$("spanFocus").style.display="block";
						$("imgFocus1").style.display="none"
						positionH=0;
						positionV=2;
					}
					else if(positionV==2)
					{
						$("spanFocus").style.display="block";
						$("imgFocus2").style.display="none"
						positionH=0;
						positionV=3;
					}
					else if(positionV==3)
					{
						$("spanFocus").style.display="block";
						$("imgFocus3").style.display="none"
						positionH=0;
						positionV=8;
					}
					else if(positionV==4)
					{
						$("spanFocus").style.display="block";
						$("imgFocus4").style.display="none"
						positionH=0;
						positionV=9;
					}
					else if(positionV==5)
					{
						$("spanFocus").style.display="block";
						$("imgFocus5").style.display="none"
						positionH=0;
						positionV=10;
					}
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				    $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
				}

			}
			break;
		}
		spanList[positionH*11+positionV].style.backgroundImage="none";
	}
	else if(keyBoardFocus == "keySetting")
	{
		setPositionH++;
		if(setPositionH>8)
		{
			setPositionH=0;
		}
		$("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
	}
}
/*************************************************************************/
/*  功能描述：获取字符
/*  返回值：如果返回!one表示该字符有多音节 返回back表示backspace键 返回shift表示大小写切换 
/*         返回page1或page2表示货号页切换 返回setting 表示键盘设置页面打开 返回changeChar表示符号和字母之间切换 返回 changeLang 表示切换语言
/************************************************************************/
function toOkGetChar() 
{
	if(keyBoardFocus == "keyboard")
	{
		switch(positionH)
		{
			case 0:
			{/*
				if(curCountry==8)
				{
					return keyBoardChar[positionH][positionV];
				}
				else*/
				{
					if(positionV==10)
					{
						return keyBoardChar[positionH][positionV];
					}
					else
					{
						if(charFlag==1)
						{
							return keyBoardChar[positionH][positionV];
						}
						else
						{
							if(keyBoardChar[positionH][positionV].length==1)
							{
								return keyBoardChar[positionH][positionV][0];
							}
							else
							{
								$("showMulFocus").style.left=MUL_START+"px";
								$("showMulChar").style.display="block";
								mulPositionV=0;
								for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
								{
									mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
								}
								for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
								{
									mulCharList[i+1].innerHTML="";
								}
								$("spanFocus").src=spansFocus[1];
								keyBoardFocus = "mulChar";
								return "!one";
							}
						}
					}
				}
			}
			break;
			case 1:
			{
				if(charFlag==1)
				{
					return keyBoardChar[positionH][positionV];
				}
				else
				{
					if(keyBoardChar[positionH][positionV].length==1)
					{
						return keyBoardChar[positionH][positionV][0];
					}
					else
					{
						$("showMulFocus").style.left=MUL_START+"px";
						$("showMulChar").style.display="block";
						mulPositionV=0;
						for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
						{
							mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
						}
						for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
						{
							mulCharList[i+1].innerHTML="";
						}
						$("spanFocus").src=spansFocus[1];
						keyBoardFocus = "mulChar";
						return "!one";
					}
				}
			}
			break;
			case 2:
			{
				if(positionV==0)
				{
					if(charFlag==0)
					{
						toChangeCharCap();
					}
					else
					{
						toChangeSymPage();
					}
					return keyBoardChar[positionH][positionV];
				}
				else
				{
					if(charFlag==1)
					{
						return keyBoardChar[positionH][positionV];
					}
					else
					{
						if(keyBoardChar[positionH][positionV].length==1)
						{
							return keyBoardChar[positionH][positionV][0];
						}
						else
						{
							$("showMulFocus").style.left=MUL_START+"px";
							$("showMulChar").style.display="block";
							mulPositionV=0;
							for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
							{
								mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
							}
							for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
							{
								mulCharList[i+1].innerHTML="";
							}
							$("spanFocus").src=spansFocus[1];
							keyBoardFocus = "mulChar";
							return "!one";
						}
					}
				}
			}
			break;
			case 3:
			{
				if(positionV==0)
				{
					toChangeLang();
					return "changeLang";
				}
				else if(positionV==1)
				{
					toChangeChar();
					return "changeChar";
				}
				else if(positionV==2)
				{
					return " ";
				}
				else if(positionV==3)
				{
					return "@";
				}
				else if(positionV==4)
				{
					showLangSetting();
					return "setting";
				}
				else if(positionV==5)
				{
					mouseCallBack.funcBack();
					return "!one";
				}
			}
			break;
		}
	}
	else if(keyBoardFocus == "mulChar")
	{
		$("showMulFocus").style.left=MUL_START+"px";
		$("showMulChar").style.display="none";
		$("spanFocus").src=spansFocus[0];
		keyBoardFocus = "keyboard";
		var key = keyBoardChar[positionH][positionV][mulPositionV];
		mulPositionV=0;
		return key;
	}
	else if(keyBoardFocus == "keySetting")
	{
		var countryFlag = 0;
		for (var i=0;i<countryCount;i++)
		{
			if(setPositionH==countryList[i])
			{
				countryFlag=1;
				if(setPositionH==curCountry)
				{
				}
				else
				{
			
					selectImgList[setPositionH].src=checkImg[0];
					deleteLang(setPositionH);
					top.g_setting.setKeyBoardEnable(setPositionH,0);
					//countryList=getLangList();
				}
				break;
			}
		}
		if(countryFlag==1)
		{
			
		}
		else
		{
			if(countryCount<3)
			{
				selectImgList[setPositionH].src=checkImg[1];
				addLang(setPositionH);
				top.g_setting.setKeyBoardEnable(setPositionH,1);
				//countryList=getLangList();
			}
		}
	}
}
function deleteLang(index)
{
	for(var i=0;i<countryList.length;i++)
	{
		if(countryList[i]==index)
		{
			for(var j=i;j<countryList.length;j++)
			{
				countryList[j]=countryList[j+1];
			}
			countryList[countryList.length-1]=-1;
			countryCount--;
			break;
		}
	}
}
function addLang(index)
{
	countryList[countryCount]=index;
	countryCount++;
}
function toChangeChar()
{
	if(charFlag==0)
	{
		/*
		if(curCountry==8)
		{
			keyBoardChar=pycBoardSymbolPage1;
		}
		else*/
		{
			keyBoardChar=keyBoardSymbolPage1;
		}
		charFlag=1;
		symbolPageFlag=0;
		$("charChange").innerHTML="abc";
		$("cabImg").style.display="none";
	}
	else
	{
		if(letterCapFlag==0)
		{
			switch(curCountry)
			{
				case 0:
				{
					keyBoardChar = enMinuscules;
				}
				break;
				case 1:
				{
					keyBoardChar = fraMinuscules;
				}
				break;
				case 2:
				{
					keyBoardChar = porMinuscules;;
				}
				break;
				case 3:
				{
					keyBoardChar = espMinuscules;
				}
				break;
				case 4:
				{
					keyBoardChar = deuMinuscules;
				}
				break;
				case 5:
				{
					keyBoardChar = polMinuscules;
				}
				break;
				case 6:
				{
					keyBoardChar = sveMinuscules;
				}
				break;
				case 7:
				{
					keyBoardChar = itaMinuscules;
				}
				break;
				case 8:
				{
					keyBoardChar = pycMinuscules;
				}
				break;
			}
			$("charChange").innerHTML="123#";
			$("cabImg").src=cabImgs[0];
		}
		else
		{
			switch(curCountry)
			{
				case 0:
				{
					keyBoardChar = enCapitalLetter;
				}
				break;
				case 1:
				{
					keyBoardChar = fraCapitalLetter;
				}
				break;
				case 2:
				{
					keyBoardChar = porCapitalLetter;
				}
				break;
				case 3:
				{
					keyBoardChar = espCapitalLetter;
				}
				break;
				case 4:
				{
					keyBoardChar = deuCapitalLetter;
				}
				break;
				case 5:
				{
					keyBoardChar = polCapitalLetter;
				}
				break;
				case 6:
				{
					keyBoardChar = sveCapitalLetter;
				}
				break;
				case 7:
				{
					keyBoardChar = itaCapitalLetter;
				}
				break;
				case 8:
				{
					keyBoardChar = русCapitalLetter;
				}
				break;
			}
			$("charChange").innerHTML="123#";
			$("cabImg").src=cabImgs[1];
		}
		charFlag=0;
		$("cabImg").style.display="block";
	}
	if(charFlag==0)
	{
		/*
		if(curCountry==8)
		{
			for(var j=0;j<12;j++)
			{
				spanList[j].innerHTML=replaceT(keyBoardChar[0][j][0]);
			}
			for(var i=0;i<2;i++)
			{
				for(var j=0;j<11;j++)
				{
					spanList[12+(i)*11+j].innerHTML=replaceT(keyBoardChar[i+1][j][0]);
				}
			}
			spanList[11].innerHTML="";
			spanList[23].innerHTML="";
		}
		else*/
		{
			for(var i=0;i<3;i++)
			{
				for(var j=0;j<11;j++)
				{
					spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
				}
			}
			spanList[10].innerHTML="";
			spanList[22].innerHTML="";
		}
	}
	else
	{
		/*
		if(curCountry==8)
		{
			for(var j=0;j<12;j++)
			{
				spanList[j].innerHTML=replaceT(keyBoardChar[0][j]);
			}
			for(var i=0;i<2;i++)
			{
				for(var j=0;j<11;j++)
				{
					spanList[12+(i)*11+j].innerHTML=replaceT(keyBoardChar[i+1][j]);
				}
			}
			spanList[11].innerHTML="";
			spanList[23].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
		}
		else */
		{
			for(var i=0;i<3;i++)
			{
				for(var j=0;j<11;j++)
				{
					spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j]);
				}
			}
			spanList[10].innerHTML="";
			spanList[22].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
		}
	}
}
function toChangeCharCap()
{
	if(letterCapFlag==1)
	{
		switch(curCountry)
		{
			case 0:
			{
				keyBoardChar = enMinuscules;
			}
			break;
			case 1:
			{
				keyBoardChar = fraMinuscules;
			}
			break;
			case 2:
			{
				keyBoardChar = porMinuscules;
			}
			break;
			case 3:
			{
				keyBoardChar = espMinuscules;
			}
			break;
			case 4:
			{
				keyBoardChar = deuMinuscules;
			}
			break;
			case 5:
			{
				keyBoardChar = polMinuscules;
			}
			break;
			case 6:
			{
				keyBoardChar = sveMinuscules;
			}
			break;
			case 7:
			{
				keyBoardChar = itaMinuscules;
			}
			break;
			case 8:
			{
				keyBoardChar = pycMinuscules;
			}
			break;
		}
		letterCapFlag=0;
		$("cabImg").src=cabImgs[0];
	}
	else
	{
		switch(curCountry)
		{
			case 0:
			{
				keyBoardChar = enCapitalLetter;
			}
			break;
			case 1:
			{
				keyBoardChar = fraCapitalLetter;
			}
			break;
			case 2:
			{
				keyBoardChar = porCapitalLetter;
			}
			break;
			case 3:
			{
				keyBoardChar = espCapitalLetter;
			}
			break;
			case 4:
			{
				keyBoardChar = deuCapitalLetter;
			}
			break;
			case 5:
			{
				keyBoardChar = polCapitalLetter;
			}
			break;
			case 6:
			{
				keyBoardChar = sveCapitalLetter;
			}
			break;
			case 7:
			{
				keyBoardChar = itaCapitalLetter;
			}
			break;
			case 8:
			{
				keyBoardChar = русCapitalLetter;
			}
			break;
		}
		letterCapFlag=1;
		$("cabImg").src=cabImgs[1];
	}
	$("cabImg").style.display="block";
	/*
	if(curCountry==8)
	{
		for(var j=0;j<12;j++)
		{
			spanList[j].innerHTML=replaceT(keyBoardChar[0][j][0]);
		}
		for(var i=0;i<2;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[12+(i)*11+j].innerHTML=replaceT(keyBoardChar[i+1][j][0]);
			}
		}
		spanList[11].innerHTML="";
		spanList[23].innerHTML="";
	}
	else */
	{
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}
		spanList[10].innerHTML="";
		spanList[22].innerHTML="";
	}
}
function  toChangeSymPage()
{
	if(symbolPageFlag==0)
	{
		/*
		if(curCountry==8)
		{
			keyBoardChar=pycBoardSymbolPage2;
		}
		else*/
		{
			keyBoardChar=keyBoardSymbolPage2;
		}
		symbolPageFlag=1;
	}
	else
	{
		/*
		if(curCountry==8)
		{
			keyBoardChar=pycBoardSymbolPage1;
		}
		else*/
		{
			keyBoardChar=keyBoardSymbolPage1;
		}
		symbolPageFlag=0;
	}
/*
	if(curCountry==8)
	{
		for(var j=0;j<12;j++)
		{
			spanList[j].innerHTML=replaceT(keyBoardChar[0][j]);
		}
		for(var i=0;i<2;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[12+(i)*11+j].innerHTML=replaceT(keyBoardChar[i+1][j]);
			}
		}
		if(symbolPageFlag==1)
		{
			spanList[23].innerHTML="&lt;&nbsp;2/2&nbsp;&gt;";
		}
		else
		{
			spanList[23].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
		}
		spanList[11].innerHTML="";
	}
	else */
	{
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j]);
			}
		}
		if(symbolPageFlag==1)
		{
			spanList[22].innerHTML="&lt;&nbsp;2/2&nbsp;&gt;";
		}
		else
		{
			spanList[22].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
		}
		spanList[10].innerHTML="";
	}
}
function toChangeLang()
{
	if(countryCount==1)
	{
		return;
	}
	var preCountry=curCountry;
/*
	if(curCountry==8)
	{
		hiddenKeyBoard();
	}
	*/
    for(var i=0;i<countryList.length;i++)
	{
		if(curCountry == countryList[i])
		{
			i++;
			if(i>=countryCount)
			{
				i=0;
			}
			curCountry=countryList[i];
			top.g_setting.currentKeyBoardIndex=curCountry;
			break;
		}
	}
	switch(curCountry)
	{
		case 0:
		{
			keyBoardChar = enMinuscules;
		}
		break;
		case 1:
		{
			keyBoardChar = fraMinuscules;
		}
		break;
		case 2:
		{
			keyBoardChar = porMinuscules;
		}
		break;
		case 3:
		{
			keyBoardChar = espMinuscules;
		}
		break;
		case 4:
		{
			keyBoardChar = deuMinuscules;
		}
		break;
		case 5:
		{
			keyBoardChar = polMinuscules;
		}
		break;
		case 6:
		{
			keyBoardChar = sveMinuscules;
		}
		break;
		case 7:
		{
			keyBoardChar = itaMinuscules;
		}
		break;
		case 8:
		{
			keyBoardChar = pycMinuscules;
		}
		break;
	}
	/*
	if(curCountry==8)
	{
		hiddenKeyBoard();
		showKeyBoard();
	}
	if(preCountry==8)
	{
		showKeyBoard();
	}
	if(curCountry==8)
	{
		for(var j=0;j<12;j++)
		{
			spanList[j].innerHTML=replaceT(keyBoardChar[0][j][0]);
		}
		for(var i=0;i<2;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[12+(i)*11+j].innerHTML=replaceT(keyBoardChar[i+1][j][0]);
			}
		}
		spanList[11].innerHTML="";
		spanList[23].innerHTML="";
	}
	else */
	{
		for(var i=0;i<3;i++)
		{
			for(var j=0;j<11;j++)
			{
				spanList[i*11+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}
		spanList[10].innerHTML="";
		spanList[22].innerHTML="";
	}
	charFlag=0;
	symbolPageFlag=0;
	$("langChange").innerHTML=langList[curCountry];
	$("charChange").innerHTML="123#";
	$("cabImg").src=cabImgs[0];
	$("cabImg").style.display="block";
}
function replaceT(s)
{
	var key=s;
	//top.g_channel.testLog("string="+s);
	key=key.replace(/&/g,"&amp;");
	key=key.replace(/</g,"&lt;");
	key=key.replace(/>/g,"&gt;");
	key=key.replace(/×/g,"&times;");
	key=key.replace(/÷/g,"&divide;");
	key=key.replace(/±/g,"&plusmn;");
	key=key.replace(/«/g,"&laquo;");
	key=key.replace(/»/g,"&raquo;");
	key=key.replace(/¦/g,"&brvbar;");
	key=key.replace(/´/g,"&acute;");
	key=key.replace(/©/g,"&copy;");
	key=key.replace(/®/g,"&reg;");
	key=key.replace(/¥/g,"&yen;");
	key=key.replace(/£/g,"&pound;");
	key=key.replace(/€/g,"&euro;");
	//key=key.replace(/°/g,"&deg;");
	//top.g_channel.testLog("key15="+key);
	return key;
}
